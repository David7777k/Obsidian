[1mdiff --git a/AutoEnchantModule.java b/AutoEnchantModule.java[m
[1mnew file mode 100644[m
[1mindex 0000000..8689a3e[m
[1m--- /dev/null[m
[1m+++ b/AutoEnchantModule.java[m
[36m@@ -0,0 +1,126 @@[m
[32m+[m[32mpackage org.obsidian.client.managers.module.impl.misc;[m
[32m+[m
[32m+[m[32mimport lombok.AccessLevel;[m
[32m+[m[32mimport lombok.Getter;[m
[32m+[m[32mimport lombok.experimental.Accessors;[m
[32m+[m[32mimport lombok.experimental.FieldDefaults;[m
[32m+[m[32mimport net.minecraft.client.Minecraft;[m
[32m+[m[32mimport net.minecraft.client.gui.screens.inventory.EnchantmentScreen;[m
[32m+[m[32mimport net.minecraft.client.multiplayer.ClientPacketListener;[m
[32m+[m[32mimport net.minecraft.network.protocol.game.ServerboundContainerButtonClickPacket;[m
[32m+[m[32mimport net.minecraft.world.inventory.EnchantmentMenu;[m
[32m+[m[32mimport org.obsidian.client.api.events.orbit.EventHandler;[m
[32m+[m[32mimport org.obsidian.client.managers.events.UpdateEvent;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Category;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Module;[m
[32m+[m[32mimport org.obsidian.client.managers.module.ModuleInfo;[m
[32m+[m[32mimport org.obsidian.client.managers.module.settings.impl.BooleanSetting;[m
[32m+[m[32mimport org.obsidian.client.utils.other.Instance;[m
[32m+[m[32mimport org.slf4j.Logger;[m
[32m+[m[32mimport org.slf4j.LoggerFactory;[m
[32m+[m
[32m+[m[32mimport java.lang.reflect.Field;[m
[32m+[m[32mimport java.lang.reflect.ReflectiveOperationException;[m
[32m+[m[32mimport java.util.HashSet;[m
[32m+[m[32mimport java.util.Set;[m
[32m+[m
[32m+[m[32m@Getter[m
[32m+[m[32m@Accessors(fluent = true)[m
[32m+[m[32m@FieldDefaults(level = AccessLevel.PRIVATE)[m
[32m+[m[32m@ModuleInfo(name = "AutoEnchant", category = Category.PLAYER)[m
[32m+[m[32mpublic class AutoEnchant extends Module {[m
[32m+[m
[32m+[m[32m    /* ---------- –°—Ç–∞—Ç–∏—á–Ω—ñ —Ç–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ñ –ø–æ–ª—è ---------- */[m
[32m+[m
[32m+[m[32m    private static final Logger LOGGER = LoggerFactory.getLogger(AutoEnchant.class);[m
[32m+[m
[32m+[m[32m    private static final String ENCHANTMENT_LEVELS_FIELD = "enchantmentLevels";[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –ö–µ—à–æ–≤–∞–Ω–µ –ø–æ–ª–µ –∑ EnchantmentMenu, –æ—Ç—Ä–∏–º–∞–Ω–µ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—é –æ–¥–∏–Ω —Ä–∞–∑[m
[32m+[m[32m     */[m
[32m+[m[32m    private static final Field LEVELS_FIELD;[m
[32m+[m
[32m+[m[32m    static {[m
[32m+[m[32m        Field tmp;[m
[32m+[m[32m        try {[m
[32m+[m[32m            tmp = EnchantmentMenu.class.getDeclaredField(ENCHANTMENT_LEVELS_FIELD);[m
[32m+[m[32m            tmp.setAccessible(true);[m
[32m+[m[32m        } catch (ReflectiveOperationException e) {[m
[32m+[m[32m            throw new ExceptionInInitializerError(e);[m
[32m+[m[32m        }[m
[32m+[m[32m        LEVELS_FIELD = tmp;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /* ---------- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ---------- */[m
[32m+[m
[32m+[m[32m    final BooleanSetting automaticEnchantingEnabled = new BooleanSetting(this, "AutoOnOpen", true);[m
[32m+[m
[32m+[m[32m    /* ---------- –ó–º—ñ–Ω–Ω—ñ —Å—Ç–∞–Ω—É ---------- */[m
[32m+[m
[32m+[m[32m    int lastContainerId = -1;                      // id –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –º–µ–Ω—é[m
[32m+[m[32m    final Set<Integer> alreadyEnchantedSlots = new HashSet<>();[m
[32m+[m
[32m+[m[32m    /* ---------- –°–∏–Ω–≥–ª—Ç–æ–Ω ---------- */[m
[32m+[m
[32m+[m[32m    public static AutoEnchant getInstance() {[m
[32m+[m[32m        return Instance.get(AutoEnchant.class);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /* ---------- –ü–æ–¥—ñ—ó ---------- */[m
[32m+[m
[32m+[m[32m    @EventHandler[m
[32m+[m[32m    public void onUpdate(UpdateEvent event) {[m
[32m+[m[32m        if (!automaticEnchantingEnabled.getValue()) {[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        Minecraft mc = Minecraft.getInstance();[m
[32m+[m[32m        if (!(mc.screen instanceof EnchantmentScreen enchantmentScreen)) {[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        processEnchanting(enchantmentScreen);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /* ---------- –õ–æ–≥—ñ–∫–∞ –º–æ–¥—É–ª—è ---------- */[m
[32m+[m
[32m+[m[32m    private void processEnchanting(EnchantmentScreen screen) {[m
[32m+[m[32m        EnchantmentMenu menu = screen.getMenu();[m
[32m+[m
[32m+[m[32m        // –ù–æ–≤–∞ ‚Äú–∫–æ–≤–∞–¥–ª–∞‚Äù ‚Üí —Å–∫–∏–¥ –∫–µ—à—É[m
[32m+[m[32m        if (menu.containerId != lastContainerId) {[m
[32m+[m[32m            lastContainerId = menu.containerId;[m
[32m+[m[32m            alreadyEnchantedSlots.clear();[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        int[] levels;[m
[32m+[m[32m        try {[m
[32m+[m[32m            levels = getEnchantmentLevels(menu);[m
[32m+[m[32m        } catch (ReflectiveOperationException e) {[m
[32m+[m[32m            LOGGER.error("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä—ñ–≤–Ω—ñ –∑–∞—á–∞—Ä—É–≤–∞–Ω—å:", e);[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        sendEnchantmentPackets(menu.containerId, levels);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private int[] getEnchantmentLevels(EnchantmentMenu menu) throws ReflectiveOperationException {[m
[32m+[m[32m        return (int[]) LEVELS_FIELD.get(menu);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private void sendEnchantmentPackets(int windowId, int[] levels) {[m
[32m+[m[32m        Minecraft mc = Minecraft.getInstance();[m
[32m+[m[32m        ClientPacketListener connection = mc.getConnection();[m
[32m+[m[32m        if (connection == null) {[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        for (int i = 0; i < levels.length; i++) {[m
[32m+[m[32m            // –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ, —è–∫—â–æ —Ä—ñ–≤–µ–Ω—å 0 –∞–±–æ –≤–∂–µ –ø—Ä–æ–±—É–≤–∞–ª–∏[m
[32m+[m[32m            if (levels[i] <= 0 || !alreadyEnchantedSlots.add(i)) {[m
[32m+[m[32m                continue;[m
[32m+[m[32m            }[m
[32m+[m[32m            connection.send(new ServerboundContainerButtonClickPacket(windowId, i));[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/README.md b/README.md[m
[1mindex 262501d..c9c43dc 100644[m
[1m--- a/README.md[m
[1m+++ b/README.md[m
[36m@@ -1,3 +1,5 @@[m
 # Obsidian Recode[m
 [m
 ## Use corretto jdk 17[m
[32m+[m
[32m+[m[32m–∑–¥–∞—Ä–æ–≤—á–∏–∫[m
\ No newline at end of file[m
[1mdiff --git a/src/java/net/minecraft/client/entity/player/ClientPlayerEntity.java b/src/java/net/minecraft/client/entity/player/ClientPlayerEntity.java[m
[1mindex 4435e8a..9820c19 100644[m
[1m--- a/src/java/net/minecraft/client/entity/player/ClientPlayerEntity.java[m
[1m+++ b/src/java/net/minecraft/client/entity/player/ClientPlayerEntity.java[m
[36m@@ -1175,4 +1175,8 @@[m [mpublic class ClientPlayerEntity extends AbstractClientPlayerEntity {[m
             return super.getLeashPosition(partialTicks);[m
         }[m
     }[m
[32m+[m
[32m+[m[32m    public UUID getUUID() {[m
[32m+[m[32m        return null;[m
[32m+[m[32m    }[m
 }[m
[1mdiff --git a/src/java/net/minecraft/client/multiplayer/PlayerController.java b/src/java/net/minecraft/client/multiplayer/PlayerController.java[m
[1mindex 4a7c5c4..21545af 100644[m
[1m--- a/src/java/net/minecraft/client/multiplayer/PlayerController.java[m
[1m+++ b/src/java/net/minecraft/client/multiplayer/PlayerController.java[m
[36m@@ -498,4 +498,11 @@[m [mpublic class PlayerController {[m
             LOGGER.error("Too many unacked block actions, dropping " + pair);[m
         }[m
     }[m
[32m+[m
[32m+[m[32m    public void clickSlot(int windowId, int slotIndex, int i, ClickType clickType, ClientPlayerEntity player) {[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    public void enchantItem(int windowId, int option) {[m
[32m+[m
[32m+[m[32m    }[m
 }[m
\ No newline at end of file[m
[1mdiff --git a/src/java/org/obsidian/client/managers/module/ModuleManager.java b/src/java/org/obsidian/client/managers/module/ModuleManager.java[m
[1mindex f39e025..edee695 100644[m
[1m--- a/src/java/org/obsidian/client/managers/module/ModuleManager.java[m
[1m+++ b/src/java/org/obsidian/client/managers/module/ModuleManager.java[m
[36m@@ -114,7 +114,11 @@[m [mpublic final class ModuleManager extends LinkedHashMap<Class<? extends Module>,[m
                 new AutoLeave(),[m
                 new AutoSell(),[m
                 new FastEXP(),[m
[31m-                new CordDroper()[m
[32m+[m[32m                new CordDroper(),[m
[32m+[m[32m                new IPLogger(),[m
[32m+[m[32m                new Tracers(),[m
[32m+[m[32m                new ChestSorter(),[m
[32m+[m[32m                new AutoEnchant()[m
 [m
         );[m
         this.values().stream().filter(Module::isAutoEnabled).forEach(module -> module.setEnabled(true, false));[m
[1mdiff --git a/src/java/org/obsidian/client/managers/module/impl/misc/AutoEnchant.java b/src/java/org/obsidian/client/managers/module/impl/misc/AutoEnchant.java[m
[1mnew file mode 100644[m
[1mindex 0000000..3bc9495[m
[1m--- /dev/null[m
[1m+++ b/src/java/org/obsidian/client/managers/module/impl/misc/AutoEnchant.java[m
[36m@@ -0,0 +1,239 @@[m
[32m+[m[32mpackage org.obsidian.client.managers.module.impl.misc;[m
[32m+[m
[32m+[m[32mimport lombok.AccessLevel;[m
[32m+[m[32mimport lombok.Getter;[m
[32m+[m[32mimport lombok.experimental.Accessors;[m
[32m+[m[32mimport lombok.experimental.FieldDefaults;[m
[32m+[m[32mimport net.minecraft.client.gui.screen.inventory.ContainerScreen;[m
[32m+[m[32mimport net.minecraft.inventory.container.ClickType;[m
[32m+[m[32mimport net.minecraft.inventory.container.EnchantmentContainer;[m
[32m+[m[32mimport net.minecraft.item.ItemStack;[m
[32m+[m[32mimport net.minecraft.util.text.StringTextComponent;[m
[32m+[m[32mimport net.minecraft.util.text.TextFormatting;[m
[32m+[m[32mimport org.obsidian.client.api.annotations.Funtime;[m
[32m+[m[32mimport org.obsidian.client.api.events.orbit.EventHandler;[m
[32m+[m[32mimport org.obsidian.client.managers.events.other.TickEvent;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Category;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Module;[m
[32m+[m[32mimport org.obsidian.client.managers.module.ModuleInfo;[m
[32m+[m[32mimport org.obsidian.client.managers.module.settings.impl.SliderSetting;[m
[32m+[m[32mimport org.obsidian.client.utils.other.Instance;[m
[32m+[m[32mimport org.obsidian.client.utils.player.PlayerUtil;[m
[32m+[m[32mimport org.obsidian.lib.util.time.StopWatch;[m
[32m+[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32m@Funtime[m
[32m+[m[32m@Getter[m
[32m+[m[32m@Accessors(fluent = true)[m
[32m+[m[32m@FieldDefaults(level = AccessLevel.PRIVATE)[m
[32m+[m[32m@ModuleInfo(name = "AutoEnchant", category = Category.MISC)[m
[32m+[m[32mpublic class AutoEnchant extends Module {[m
[32m+[m
[32m+[m[32m    public static AutoEnchant getInstance() {[m
[32m+[m[32m        return Instance.get(AutoEnchant.class);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Å–ª–æ—Ç–æ–≤ –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è[m
[32m+[m[32m    static final int ENCHANT_INPUT_SLOT = 0;[m
[32m+[m
[32m+[m[32m    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è[m
[32m+[m[32m    final SliderSetting delayBetweenActions = new SliderSetting(this, "–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏", 250, 100, 1000, 50);[m
[32m+[m
[32m+[m[32m    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥—É–ª—è[m
[32m+[m[32m    final StopWatch actionTimer = new StopWatch();[m
[32m+[m[32m    boolean isProcessing = false;[m
[32m+[m[32m    int enchantedItems = 0;[m
[32m+[m[32m    final List<Integer> itemSlots = new ArrayList<>();[m
[32m+[m
[32m+[m[32m    enum EnchantState {[m
[32m+[m[32m        IDLE,[m
[32m+[m[32m        SCANNING,[m
[32m+[m[32m        MOVE_ITEM_TO_ENCHANT,[m
[32m+[m[32m        PERFORM_ENCHANT,[m
[32m+[m[32m        MOVE_ITEM_BACK[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    EnchantState currentState = EnchantState.IDLE;[m
[32m+[m[32m    int selectedSlot = -1;[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onEnable() {[m
[32m+[m[32m        super.onEnable();[m
[32m+[m[32m        resetState();[m
[32m+[m[32m        sendMessage(TextFormatting.GREEN + "AutoEnchant –∑–∞–ø—É—â–µ–Ω");[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onDisable() {[m
[32m+[m[32m        super.onDisable();[m
[32m+[m[32m        resetState();[m
[32m+[m[32m        sendMessage(TextFormatting.RED + "AutoEnchant –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω");[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥—É–ª—è[m
[32m+[m[32m     */[m
[32m+[m[32m    private void resetState() {[m
[32m+[m[32m        isProcessing = false;[m
[32m+[m[32m        enchantedItems = 0;[m
[32m+[m[32m        itemSlots.clear();[m
[32m+[m[32m        currentState = EnchantState.IDLE;[m
[32m+[m[32m        selectedSlot = -1;[m
[32m+[m[32m        actionTimer.reset();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @EventHandler[m
[32m+[m[32m    public void onTick(TickEvent event) {[m
[32m+[m[32m        if (!isEnabled() || !PlayerUtil.isFuntime() || mc.player == null)[m
[32m+[m[32m            return;[m
[32m+[m
[32m+[m[32m        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ—Ç–∫—Ä—ã—Ç —ç–∫—Ä–∞–Ω –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è[m
[32m+[m[32m        if (mc.currentScreen instanceof ContainerScreen &&[m
[32m+[m[32m                mc.player.openContainer instanceof EnchantmentContainer) {[m
[32m+[m
[32m+[m[32m            if (currentState == EnchantState.IDLE) {[m
[32m+[m[32m                currentState = EnchantState.SCANNING;[m
[32m+[m[32m                actionTimer.reset();[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            // –ñ–¥–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏[m
[32m+[m[32m            if (!actionTimer.elapsed(delayBetweenActions.getValue().longValue())) {[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            // –í—ã–ø–æ–ª–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ[m
[32m+[m[32m            processCurrentState();[m
[32m+[m[32m            actionTimer.reset();[m
[32m+[m[32m        } else if (currentState != EnchantState.IDLE) {[m
[32m+[m[32m            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è, –µ—Å–ª–∏ —ç–∫—Ä–∞–Ω –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫—Ä—ã—Ç[m
[32m+[m[32m            resetState();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—ç–Ω—á–∞–Ω—Ç–∞[m
[32m+[m[32m     */[m
[32m+[m[32m    private void processCurrentState() {[m
[32m+[m[32m        EnchantmentContainer container = (EnchantmentContainer) mc.player.openContainer;[m
[32m+[m
[32m+[m[32m        switch (currentState) {[m
[32m+[m[32m            case SCANNING:[m
[32m+[m[32m                scanInventory();[m
[32m+[m[32m                if (itemSlots.isEmpty()) {[m
[32m+[m[32m                    sendMessage("–ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è");[m
[32m+[m[32m                    setEnabled(false);[m
[32m+[m[32m                } else {[m
[32m+[m[32m                    sendMessage("–ù–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è: " + itemSlots.size());[m
[32m+[m[32m                    currentState = EnchantState.MOVE_ITEM_TO_ENCHANT;[m
[32m+[m[32m                }[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            case MOVE_ITEM_TO_ENCHANT:[m
[32m+[m[32m                if (itemSlots.isEmpty()) {[m
[32m+[m[32m                    sendMessage("–í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∑–∞—á–∞—Ä–æ–≤–∞–Ω—ã. –ó–∞—á–∞—Ä–æ–≤–∞–Ω–æ: " + enchantedItems);[m
[32m+[m[32m                    setEnabled(false);[m
[32m+[m[32m                    return;[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ —Å–ª–æ—Ç–µ –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è[m
[32m+[m[32m                if (!container.inventorySlots.get(ENCHANT_INPUT_SLOT).getStack().isEmpty()) {[m
[32m+[m[32m                    currentState = EnchantState.PERFORM_ENCHANT;[m
[32m+[m[32m                    return;[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–µ–¥–º–µ—Ç –≤ —Å–ª–æ—Ç –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è[m
[32m+[m[32m                selectedSlot = itemSlots.remove(0);[m
[32m+[m[32m                windowClick(selectedSlot, 0, ClickType.PICKUP);[m
[32m+[m[32m                windowClick(ENCHANT_INPUT_SLOT, 0, ClickType.PICKUP);[m
[32m+[m[32m                sendMessage("–ü–µ—Ä–µ–º–µ—â–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç –≤ —Å–ª–æ—Ç –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è");[m
[32m+[m[32m                currentState = EnchantState.PERFORM_ENCHANT;[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            case PERFORM_ENCHANT:[m
[32m+[m[32m                // –ï—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç –≤ —Å–ª–æ—Ç–µ –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–∂–Ω–æ –∑–∞—á–∞—Ä–æ–≤–∞—Ç—å[m
[32m+[m[32m                if (!container.inventorySlots.get(ENCHANT_INPUT_SLOT).getStack().isEmpty()) {[m
[32m+[m[32m                    if (container.enchantLevels[2] > 0) {[m
[32m+[m[32m                        // –í—ã–±–∏—Ä–∞–µ–º 3-–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π)[m
[32m+[m[32m                        enchantItem(2);[m
[32m+[m[32m                        enchantedItems++;[m
[32m+[m[32m                        sendMessage("–ó–∞—á–∞—Ä–æ–≤–∞–Ω –ø—Ä–µ–¥–º–µ—Ç ‚Ññ" + enchantedItems);[m
[32m+[m[32m                        currentState = EnchantState.MOVE_ITEM_BACK;[m
[32m+[m[32m                    } else {[m
[32m+[m[32m                        // –ù–µ–ª—å–∑—è –∑–∞—á–∞—Ä–æ–≤–∞—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç[m
[32m+[m[32m                        windowClick(ENCHANT_INPUT_SLOT, 0, ClickType.QUICK_MOVE);[m
[32m+[m[32m                        sendMessage("–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç");[m
[32m+[m[32m                        currentState = EnchantState.MOVE_ITEM_TO_ENCHANT;[m
[32m+[m[32m                    }[m
[32m+[m[32m                } else {[m
[32m+[m[32m                    // –ï—Å–ª–∏ —Å–ª–æ—Ç –ø—É—Å—Ç, –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–¥–º–µ—Ç —É–∂–µ –∑–∞—á–∞—Ä–æ–≤–∞–Ω[m
[32m+[m[32m                    currentState = EnchantState.MOVE_ITEM_TO_ENCHANT;[m
[32m+[m[32m                }[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            case MOVE_ITEM_BACK:[m
[32m+[m[32m                // –ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–º–µ—â–∞–µ–º –∑–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å[m
[32m+[m[32m                windowClick(ENCHANT_INPUT_SLOT, 0, ClickType.QUICK_MOVE);[m
[32m+[m[32m                currentState = EnchantState.MOVE_ITEM_TO_ENCHANT;[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            default:[m
[32m+[m[32m                break;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –°–∫–∞–Ω–∏—Ä—É–µ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è[m
[32m+[m[32m     */[m
[32m+[m[32m    private void scanInventory() {[m
[32m+[m[32m        itemSlots.clear();[m
[32m+[m
[32m+[m[32m        EnchantmentContainer container = (EnchantmentContainer) mc.player.openContainer;[m
[32m+[m
[32m+[m[32m        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–æ—Ç—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (27-63)[m
[32m+[m[32m        for (int i = 27; i < 63; i++) {[m
[32m+[m[32m            ItemStack stack = container.inventorySlots.get(i).getStack();[m
[32m+[m
[32m+[m[32m            // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—É—Å—Ç—ã–µ —Å–ª–æ—Ç—ã[m
[32m+[m[32m            if (stack.isEmpty()) continue;[m
[32m+[m
[32m+[m[32m            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–¥–º–µ—Ç—ã –¥–ª—è –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è[m
[32m+[m[32m            if (stack.isEnchantable()) {[m
[32m+[m[32m                itemSlots.add(i);[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª–∏–∫ –ø–æ —Å–ª–æ—Ç—É –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ[m
[32m+[m[32m     */[m
[32m+[m[32m    private void windowClick(int slotId, int button, ClickType type) {[m
[32m+[m[32m        if (mc.player != null && mc.player.openContainer != null) {[m
[32m+[m[32m            int windowId = mc.player.openContainer.windowId;[m
[32m+[m[32m            mc.playerController.windowClick(windowId, slotId, button, type, mc.player);[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏–µ[m
[32m+[m[32m     */[m
[32m+[m[32m    private void enchantItem(int enchantOption) {[m
[32m+[m[32m        if (mc.player != null && mc.player.openContainer != null) {[m
[32m+[m[32m            int windowId = mc.player.openContainer.windowId;[m
[32m+[m[32m            mc.playerController.sendEnchantPacket(windowId, enchantOption);[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç[m
[32m+[m[32m     */[m
[32m+[m[32m    private void sendMessage(String msg) {[m
[32m+[m[32m        if (mc.player != null) {[m
[32m+[m[32m            mc.player.sendMessage([m
[32m+[m[32m                    new StringTextComponent(TextFormatting.AQUA + "[AutoEnchant] " + TextFormatting.RESET + msg),[m
[32m+[m[32m                    mc.player.getUUID()[m
[32m+[m[32m            );[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/src/java/org/obsidian/client/managers/module/impl/misc/ChestSorter.java b/src/java/org/obsidian/client/managers/module/impl/misc/ChestSorter.java[m
[1mnew file mode 100644[m
[1mindex 0000000..c26bf9a[m
[1m--- /dev/null[m
[1m+++ b/src/java/org/obsidian/client/managers/module/impl/misc/ChestSorter.java[m
[36m@@ -0,0 +1,390 @@[m
[32m+[m[32mpackage org.obsidian.client.managers.module.impl.misc;[m
[32m+[m
[32m+[m[32mimport lombok.AccessLevel;[m
[32m+[m[32mimport lombok.Getter;[m
[32m+[m[32mimport lombok.experimental.Accessors;[m
[32m+[m[32mimport lombok.experimental.FieldDefaults;[m
[32m+[m[32mimport net.minecraft.client.Minecraft;[m
[32m+[m[32mimport net.minecraft.client.gui.screen.inventory.ChestScreen;[m
[32m+[m[32mimport net.minecraft.client.util.InputMappings;[m
[32m+[m[32mimport net.minecraft.inventory.container.ChestContainer;[m
[32m+[m[32mimport net.minecraft.inventory.container.ClickType;[m
[32m+[m[32mimport net.minecraft.item.ItemStack;[m
[32m+[m[32mimport net.minecraft.util.registry.Registry;[m
[32m+[m[32mimport org.lwjgl.glfw.GLFW;[m
[32m+[m[32mimport org.obsidian.client.api.events.orbit.EventHandler;[m
[32m+[m[32mimport org.obsidian.client.managers.events.player.UpdateEvent;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Category;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Module;[m
[32m+[m[32mimport org.obsidian.client.managers.module.ModuleInfo;[m
[32m+[m[32mimport org.obsidian.client.utils.other.Instance;[m
[32m+[m
[32m+[m[32mimport java.util.*;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * –ú–æ–¥—É–ª—å ¬´ChestSorter¬ª —Å —Ä—É—á–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏:[m
[32m+[m[32m * ‚Ä¢ –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –æ–±–º–µ–Ω —á–µ—Ä–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–±–µ–∑ Thread.sleep)[m
[32m+[m[32m * ‚Ä¢ –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø—É—Å—Ç–æ–≥–æ —Å–ª–æ—Ç–∞[m
[32m+[m[32m * ‚Ä¢ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ—Ç—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±–º–µ–Ω–∞[m
[32m+[m[32m */[m
[32m+[m[32m@Getter[m
[32m+[m[32m@Accessors(fluent = true)[m
[32m+[m[32m@FieldDefaults(level = AccessLevel.PRIVATE)[m
[32m+[m[32m@ModuleInfo(name = "ChestSorter", category = Category.MISC)[m
[32m+[m[32mpublic class ChestSorter extends Module {[m
[32m+[m[32m    public static ChestSorter getInstance() {[m
[32m+[m[32m        return Instance.get(ChestSorter.class);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private final Minecraft mc = Minecraft.getInstance();[m
[32m+[m
[32m+[m[32m    // –û–±—â–∏–π —Ç–∞–π–º–µ—Ä –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–æ—Ç–æ–≤)[m
[32m+[m[32m    private static final long ACTION_DELAY_MS = 500;[m
[32m+[m
[32m+[m[32m    // –ö–ª–∞–≤–∏—à–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (R)[m
[32m+[m[32m    private static final int BIND_KEY_GLFW = GLFW.GLFW_KEY_R;[m
[32m+[m
[32m+[m[32m    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏[m
[32m+[m[32m    private boolean sorting = false;[m
[32m+[m[32m    private boolean keyPressed = false;[m
[32m+[m[32m    private int currentSlot = 0;[m
[32m+[m[32m    private final List<ItemInfo> targetLayout = new ArrayList<>();[m
[32m+[m
[32m+[m[32m    // –¢–∞–π–º–µ—Ä –¥–ª—è –æ–±—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (–ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–ª–æ—Ç–∞–º–∏)[m
[32m+[m[32m    private final SimpleTimer actionTimer = new SimpleTimer();[m
[32m+[m
[32m+[m[32m    // –¢–∞–π–º–µ—Ä –¥–ª—è –æ–±–º–µ–Ω–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤[m
[32m+[m[32m    private final SimpleTimer swapTimer = new SimpleTimer();[m
[32m+[m
[32m+[m[32m    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–º–µ–Ω–∞[m
[32m+[m[32m    private enum SwapState {[m
[32m+[m[32m        IDLE,[m
[32m+[m[32m        PICKING_UP,      // –ü–æ–¥–Ω–∏–º–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç –∏–∑ fromSlot[m
[32m+[m[32m        PLACING,         // –ö–ª–∞–¥—ë–º –ø—Ä–µ–¥–º–µ—Ç –≤ toSlot[m
[32m+[m[32m        RETURNING        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º ¬´–ª–∏—à–Ω–∏–µ¬ª –∏–∑ fromSlot, –µ—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    private SwapState swapState = SwapState.IDLE;[m
[32m+[m[32m    private int swapFrom = -1;[m
[32m+[m[32m    private int swapTo = -1;[m
[32m+[m
[32m+[m[32m    // –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–µ–¥–º–µ—Ç–µ[m
[32m+[m[32m    private static class ItemInfo {[m
[32m+[m[32m        final ItemStack stack;[m
[32m+[m[32m        final String category;[m
[32m+[m[32m        final String name;[m
[32m+[m
[32m+[m[32m        ItemInfo(ItemStack stack) {[m
[32m+[m[32m            this.stack = stack.copy();[m
[32m+[m[32m            this.category = getItemCategory(stack);[m
[32m+[m[32m            this.name = getItemName(stack);[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        private static String getItemCategory(ItemStack stack) {[m
[32m+[m[32m            if (stack.isEmpty()) return "EMPTY";[m
[32m+[m
[32m+[m[32m            String registryName = Registry.ITEM.getKey(stack.getItem()).toString().toLowerCase();[m
[32m+[m[32m            String displayName = stack.getDisplayName().getString().toLowerCase();[m
[32m+[m
[32m+[m[32m            // –ü—Ä–æ—Å—Ç–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º[m
[32m+[m[32m            if (registryName.contains("tnt") || displayName.contains("tnt")) return "EXPLOSIVES";[m
[32m+[m[32m            if (registryName.contains("_ore") && !registryName.contains("_block")) return "ORES";[m
[32m+[m[32m            if (registryName.contains("ingot") || registryName.contains("nugget")) return "INGOTS";[m
[32m+[m[32m            if (registryName.contains("_block") || registryName.contains("planks") || registryName.contains("stone"))[m
[32m+[m[32m                return "BLOCKS";[m
[32m+[m[32m            if (registryName.contains("pickaxe") || registryName.contains("shovel") || registryName.contains("axe"))[m
[32m+[m[32m                return "TOOLS";[m
[32m+[m[32m            if (registryName.contains("sword") || registryName.contains("bow")) return "WEAPONS";[m
[32m+[m[32m            if (registryName.contains("helmet") || registryName.contains("chestplate")[m
[32m+[m[32m                    || registryName.contains("leggings") || registryName.contains("boots")) return "ARMOR";[m
[32m+[m[32m            if (registryName.contains("apple") || registryName.contains("bread")[m
[32m+[m[32m                    || registryName.contains("meat") || registryName.contains("beef")) return "FOOD";[m
[32m+[m[32m            if (registryName.contains("redstone") || registryName.contains("repeater")) return "REDSTONE";[m
[32m+[m[32m            if (registryName.contains("potion")) return "POTIONS";[m
[32m+[m[32m            if (registryName.contains("book")) return "BOOKS";[m
[32m+[m[32m            return "MISC";[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        private static String getItemName(ItemStack stack) {[m
[32m+[m[32m            if (stack.isEmpty()) return "EMPTY";[m
[32m+[m[32m            return stack.getDisplayName().getString();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // –ü—Ä–æ—Å—Ç–æ–π —Ç–∞–π–º–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ System.currentTimeMillis()[m
[32m+[m[32m    private static class SimpleTimer {[m
[32m+[m[32m        private long lastMS;[m
[32m+[m
[32m+[m[32m        public SimpleTimer() {[m
[32m+[m[32m            reset();[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public void reset() {[m
[32m+[m[32m            lastMS = System.currentTimeMillis();[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        public boolean hasTimePassed(long ms) {[m
[32m+[m[32m            return System.currentTimeMillis() - lastMS >= ms;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @EventHandler[m
[32m+[m[32m    public void onUpdate(UpdateEvent event) {[m
[32m+[m[32m        // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç –Ω–µ ChestScreen, —Ç–æ –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É (–µ—Å–ª–∏ –æ–Ω–∞ —à–ª–∞)[m
[32m+[m[32m        if (!(mc.currentScreen instanceof ChestScreen screen)) {[m
[32m+[m[32m            if (sorting) {[m
[32m+[m[32m                System.out.println("[ChestSorter] –°—É–Ω–¥—É–∫ –∑–∞–∫—Ä—ã—Ç, –ø—Ä–µ—Ä—ã–≤–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É");[m
[32m+[m[32m                resetSorting();[m
[32m+[m[32m            }[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ R[m
[32m+[m[32m        boolean isRPressed = InputMappings.isKeyDown(mc.getMainWindow().getHandle(), BIND_KEY_GLFW);[m
[32m+[m
[32m+[m[32m        if (isRPressed && !keyPressed && !sorting) {[m
[32m+[m[32m            keyPressed = true;[m
[32m+[m[32m            startSorting(screen);[m
[32m+[m[32m        } else if (!isRPressed) {[m
[32m+[m[32m            keyPressed = false;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ï—Å–ª–∏ —Å–µ–π—á–∞—Å –∏–¥—ë—Ç –æ–±–º–µ–Ω, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –µ–≥–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞[m
[32m+[m[32m        if (swapState != SwapState.IDLE) {[m
[32m+[m[32m            handleSwap(screen.getContainer());[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ï—Å–ª–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏[m
[32m+[m[32m        if (sorting) {[m
[32m+[m[32m            processSorting(screen);[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ –º–∞–∫–µ—Ç–∞[m
[32m+[m[32m     */[m
[32m+[m[32m    private void startSorting(ChestScreen screen) {[m
[32m+[m[32m        System.out.println("[ChestSorter] ========== –ó–ê–ü–£–°–ö –°–û–†–¢–ò–†–û–í–ö–ò ==========");[m
[32m+[m
[32m+[m[32m        ChestContainer container = screen.getContainer();[m
[32m+[m[32m        int chestSlotsCount = container.getNumRows() * 9;[m
[32m+[m
[32m+[m[32m        System.out.println("[ChestSorter] –†–∞–∑–º–µ—Ä —Å—É–Ω–¥—É–∫–∞: " + chestSlotsCount + " —Å–ª–æ—Ç–æ–≤");[m
[32m+[m
[32m+[m[32m        // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏–∑ —Å—É–Ω–¥—É–∫–∞[m
[32m+[m[32m        List<ItemInfo> allItems = new ArrayList<>();[m
[32m+[m[32m        for (int i = 0; i < chestSlotsCount; i++) {[m
[32m+[m[32m            ItemStack stack = container.getSlot(i).getStack();[m
[32m+[m[32m            ItemInfo info = new ItemInfo(stack);[m
[32m+[m[32m            allItems.add(info);[m
[32m+[m
[32m+[m[32m            if (!stack.isEmpty()) {[m
[32m+[m[32m                System.out.println("[ChestSorter] –°–ª–æ—Ç " + i + ": " + info.name + " (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: " + info.category + ")");[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º[m
[32m+[m[32m        Map<String, List<ItemInfo>> grouped = new LinkedHashMap<>();[m
[32m+[m[32m        for (ItemInfo info : allItems) {[m
[32m+[m[32m            if (!info.stack.isEmpty()) {[m
[32m+[m[32m                grouped.computeIfAbsent(info.category, k -> new ArrayList<>()).add(info);[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –°–æ–∑–¥–∞—ë–º —Ü–µ–ª–µ–≤–æ–π –º–∞–∫–µ—Ç[m
[32m+[m[32m        targetLayout.clear();[m
[32m+[m[32m        String[] categoryOrder = {[m
[32m+[m[32m                "EXPLOSIVES", "ORES", "INGOTS", "BLOCKS",[m
[32m+[m[32m                "TOOLS", "WEAPONS", "ARMOR", "FOOD",[m
[32m+[m[32m                "REDSTONE", "POTIONS", "BOOKS", "MISC"[m
[32m+[m[32m        };[m
[32m+[m
[32m+[m[32m        for (String category : categoryOrder) {[m
[32m+[m[32m            List<ItemInfo> items = grouped.get(category);[m
[32m+[m[32m            if (items != null) {[m
[32m+[m[32m                items.sort(Comparator.comparing(info -> info.name.toLowerCase()));[m
[32m+[m[32m                targetLayout.addAll(items);[m
[32m+[m[32m                System.out.println("[ChestSorter] –ö–∞—Ç–µ–≥–æ—Ä–∏—è " + category + ": " + items.size() + " –ø—Ä–µ–¥–º–µ—Ç–æ–≤");[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –î–æ–ø–æ–ª–Ω—è–µ–º –ø—É—Å—Ç—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏[m
[32m+[m[32m        while (targetLayout.size() < chestSlotsCount) {[m
[32m+[m[32m            targetLayout.add(new ItemInfo(ItemStack.EMPTY));[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        currentSlot = 0;[m
[32m+[m[32m        sorting = true;[m
[32m+[m[32m        actionTimer.reset();[m
[32m+[m
[32m+[m[32m        int actualItemsCount = (int) targetLayout.stream()[m
[32m+[m[32m                .filter(info -> !info.stack.isEmpty())[m
[32m+[m[32m                .count();[m
[32m+[m[32m        System.out.println("[ChestSorter] –¶–µ–ª–µ–≤–æ–π –º–∞–∫–µ—Ç —Å–æ–∑–¥–∞–Ω. –í—Å–µ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: " + actualItemsCount);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–π–º–µ—Ä, —Ç–µ–∫—É—â–∏–π/—Ü–µ–ª–µ–≤–æ–π –ø—Ä–µ–¥–º–µ—Ç, –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –æ–±–º–µ–Ω, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ[m
[32m+[m[32m     */[m
[32m+[m[32m    private void processSorting(ChestScreen screen) {[m
[32m+[m[32m        ChestContainer container = screen.getContainer();[m
[32m+[m[32m        int chestSlotsCount = container.getNumRows() * 9;[m
[32m+[m
[32m+[m[32m        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞[m
[32m+[m[32m        if (currentSlot >= chestSlotsCount) {[m
[32m+[m[32m            System.out.println("[ChestSorter] ========== –°–û–†–¢–ò–†–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê ==========");[m
[32m+[m[32m            resetSorting();[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ñ–¥—ë–º –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–ª–æ—Ç–æ–≤[m
[32m+[m[32m        if (!actionTimer.hasTimePassed(ACTION_DELAY_MS)) {[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        ItemStack currentStack = container.getSlot(currentSlot).getStack();[m
[32m+[m[32m        ItemStack targetStack = targetLayout.get(currentSlot).stack;[m
[32m+[m
[32m+[m[32m        System.out.println("[ChestSorter] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–ª–æ—Ç " + currentSlot);[m
[32m+[m[32m        System.out.println("[ChestSorter] –¢–µ–∫—É—â–∏–π –ø—Ä–µ–¥–º–µ—Ç: " +[m
[32m+[m[32m                (currentStack.isEmpty() ? "–ü–£–°–¢–û" : currentStack.getDisplayName().getString()));[m
[32m+[m[32m        System.out.println("[ChestSorter] –ù—É–∂–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç: " +[m
[32m+[m[32m                (targetStack.isEmpty() ? "–ü–£–°–¢–û" : targetStack.getDisplayName().getString()));[m
[32m+[m
[32m+[m[32m        // –ï—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç (–ø–æ —Ç–∏–ø—É) ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ—Ç—É[m
[32m+[m[32m        if (areItemsEqual(currentStack, targetStack)) {[m
[32m+[m[32m            System.out.println("[ChestSorter] –°–ª–æ—Ç " + currentSlot + " —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç");[m
[32m+[m[32m            currentSlot++;[m
[32m+[m[32m            actionTimer.reset();[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // –ò—â–µ–º —Å–ª–æ—Ç —Å –Ω—É–∂–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–æ–º (–∏–ª–∏ –ø—É—Å—Ç–æ–π, –µ—Å–ª–∏ target –ø—É—Å—Ç)[m
[32m+[m[32m        int sourceSlot = findItemInChest(container, targetStack, chestSlotsCount);[m
[32m+[m
[32m+[m[32m        if (sourceSlot != -1) {[m
[32m+[m[32m            System.out.println("[ChestSorter] –ü–µ—Ä–µ–º–µ—â–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç –∏–∑ —Å–ª–æ—Ç–∞ " +[m
[32m+[m[32m                    sourceSlot + " –≤ —Å–ª–æ—Ç " + currentSlot);[m
[32m+[m[32m            startSwap(sourceSlot, currentSlot, container);[m
[32m+[m[32m            // –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ–±–º–µ–Ω–∞ –∂–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤ handleSwap[m
[32m+[m[32m        } else {[m
[32m+[m[32m            System.out.println("[ChestSorter] –û–®–ò–ë–ö–ê: –ù–µ –Ω–∞–π–¥–µ–Ω –ø—Ä–µ–¥–º–µ—Ç –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è!");[m
[32m+[m[32m            currentSlot++;[m
[32m+[m[32m            actionTimer.reset();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã —Ç–æ–ª—å–∫–æ –ø–æ —Ç–∏–ø—É (Item), –±–µ–∑ —É—á—ë—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞/–∑–∞—á–∞—Ä–æ–≤–∞–Ω–∏–π[m
[32m+[m[32m     */[m
[32m+[m[32m    private boolean areItemsEqual(ItemStack stack1, ItemStack stack2) {[m
[32m+[m[32m        if (stack1.isEmpty() && stack2.isEmpty()) return true;[m
[32m+[m[32m        if (stack1.isEmpty() || stack2.isEmpty()) return false;[m
[32m+[m[32m        return stack1.getItem() == stack2.getItem();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –ù–∞—Ö–æ–¥–∏—Ç —Å–ª–æ—Ç –≤ —Å—É–Ω–¥—É–∫–µ, –≥–¥–µ –ª–µ–∂–∏—Ç –Ω—É–∂–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç (–∏–ª–∏ ‚Äî –µ—Å–ª–∏ –Ω—É–∂–µ–Ω EMPTY ‚Äî –∏—â–µ—Ç –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç).[m
[32m+[m[32m     * –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø—É—Å—Ç–æ–≥–æ —Å–Ω–∞—á–∞–ª–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤–ø—Ä–∞–≤–æ, –ø–æ—Ç–æ–º ‚Äî –≤–ª–µ–≤–æ.[m
[32m+[m[32m     */[m
[32m+[m[32m    private int findItemInChest(ChestContainer container, ItemStack target, int chestSize) {[m
[32m+[m[32m        if (target.isEmpty()) {[m
[32m+[m[32m            // –ò—â–µ–º –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç –ø–æ—Å–ª–µ currentSlot[m
[32m+[m[32m            for (int i = currentSlot + 1; i < chestSize; i++) {[m
[32m+[m[32m                if (container.getSlot(i).getStack().isEmpty()) {[m
[32m+[m[32m                    return i;[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤–ø—Ä–∞–≤–æ ‚Äî –∏—â–µ–º –≤–ª–µ–≤–æ[m
[32m+[m[32m            for (int i = 0; i < currentSlot; i++) {[m
[32m+[m[32m                if (container.getSlot(i).getStack().isEmpty()) {[m
[32m+[m[32m                    return i;[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        } else {[m
[32m+[m[32m            // –ò—â–µ–º –Ω—É–∂–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç (–ø–æ —Ç–∏–ø—É)[m
[32m+[m[32m            for (int i = 0; i < chestSize; i++) {[m
[32m+[m[32m                if (i == currentSlot) continue;[m
[32m+[m[32m                ItemStack stack = container.getSlot(i).getStack();[m
[32m+[m[32m                if (!stack.isEmpty() && stack.getItem() == target.getItem()) {[m
[32m+[m[32m                    return i;[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return -1;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–º–µ–Ω–∞: —Å—Ä–∞–∑—É –ø–æ–¥–Ω–∏–º–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç –∏–∑ fromSlot,[m
[32m+[m[32m     * –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ handleSwap —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä—ã.[m
[32m+[m[32m     */[m
[32m+[m[32m    private void startSwap(int fromSlot, int toSlot, ChestContainer container) {[m
[32m+[m[32m        swapFrom = fromSlot;[m
[32m+[m[32m        swapTo = toSlot;[m
[32m+[m[32m        swapState = SwapState.PICKING_UP;[m
[32m+[m[32m        // –ü–æ–¥–Ω–∏–º–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç (ClickType.PICKUP ‚Äî –∑–∞—Ö–≤–∞—Ç –∫—É—Ä—Å–æ—Ä–æ–º)[m
[32m+[m[32m        mc.playerController.clickSlot(container.windowId, swapFrom, 0, ClickType.PICKUP, mc.player);[m
[32m+[m[32m        swapTimer.reset();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –æ–±–º–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—è swapState –∏ swapTimer.[m
[32m+[m[32m     * –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–±–º–µ–Ω –∑–∞–≤–µ—Ä—à—ë–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç swapState –≤ IDLE,[m
[32m+[m[32m     * –∏ —Ç–æ–≥–¥–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç currentSlot –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç actionTimer.[m
[32m+[m[32m     */[m
[32m+[m[32m    private void handleSwap(ChestContainer container) {[m
[32m+[m[32m        switch (swapState) {[m
[32m+[m[32m            case PICKING_UP:[m
[32m+[m[32m                if (swapTimer.hasTimePassed(50)) {[m
[32m+[m[32m                    swapState = SwapState.PLACING;[m
[32m+[m[32m                    swapTimer.reset();[m
[32m+[m[32m                    // –ö–ª–∞–¥—ë–º –ø—Ä–µ–¥–º–µ—Ç –≤ —Ü–µ–ª–µ–≤–æ–π —Å–ª–æ—Ç[m
[32m+[m[32m                    mc.playerController.clickSlot(container.windowId, swapTo, 0, ClickType.PICKUP, mc.player);[m
[32m+[m[32m                }[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            case PLACING:[m
[32m+[m[32m                if (swapTimer.hasTimePassed(50)) {[m
[32m+[m[32m                    swapState = SwapState.RETURNING;[m
[32m+[m[32m                    swapTimer.reset();[m
[32m+[m[32m                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º ¬´–ª–∏—à–Ω–∏–µ¬ª (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å) –∏–∑ fromSlot[m
[32m+[m[32m                    mc.playerController.clickSlot(container.windowId, swapFrom, 0, ClickType.PICKUP, mc.player);[m
[32m+[m[32m                }[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            case RETURNING:[m
[32m+[m[32m                if (swapTimer.hasTimePassed(50)) {[m
[32m+[m[32m                    // –ó–∞–≤–µ—Ä—à–∞–µ–º –æ–±–º–µ–Ω[m
[32m+[m[32m                    System.out.println("[ChestSorter] –û–±–º–µ–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω: —Å–ª–æ—Ç " + swapFrom + " -> —Å–ª–æ—Ç " + swapTo);[m
[32m+[m[32m                    swapState = SwapState.IDLE;[m
[32m+[m[32m                    swapFrom = -1;[m
[32m+[m[32m                    swapTo = -1;[m
[32m+[m[32m                    // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±–º–µ–Ω–∞ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ—Ç—É[m
[32m+[m[32m                    currentSlot++;[m
[32m+[m[32m                    actionTimer.reset();[m
[32m+[m[32m                }[m
[32m+[m[32m                break;[m
[32m+[m
[32m+[m[32m            default:[m
[32m+[m[32m                break;[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤—â–∏–∫–∞[m
[32m+[m[32m     */[m
[32m+[m[32m    private void resetSorting() {[m
[32m+[m[32m        sorting = false;[m
[32m+[m[32m        keyPressed = false;[m
[32m+[m[32m        currentSlot = 0;[m
[32m+[m[32m        targetLayout.clear();[m
[32m+[m[32m        swapState = SwapState.IDLE;[m
[32m+[m[32m        swapFrom = swapTo = -1;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public boolean isStarred() {[m
[32m+[m[32m        return true;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/src/java/org/obsidian/client/managers/module/impl/misc/IPLogger.java b/src/java/org/obsidian/client/managers/module/impl/misc/IPLogger.java[m
[1mnew file mode 100644[m
[1mindex 0000000..81828d6[m
[1m--- /dev/null[m
[1m+++ b/src/java/org/obsidian/client/managers/module/impl/misc/IPLogger.java[m
[36m@@ -0,0 +1,43 @@[m
[32m+[m[32mpackage org.obsidian.client.managers.module.impl.misc;[m
[32m+[m
[32m+[m[32mimport net.minecraft.client.Minecraft;[m
[32m+[m[32mimport net.minecraft.util.text.StringTextComponent;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Category;[m
[32m+[m[32mimport org.obsidian.client.managers.module.Module;[m
[32m+[m[32mimport org.obsidian.client.managers.module.ModuleInfo;[m
[32m+[m
[32m+[m[32mimport java.io.BufferedReader;[m
[32m+[m[32mimport java.io.InputStreamReader;[m
[32m+[m[32mimport java.net.HttpURLConnection;[m
[32m+[m[32mimport java.net.URL;[m
[32m+[m
[32m+[m[32m@ModuleInfo(name = "IPLogger", category = Category.MISC)[m
[32m+[m[32mpublic class IPLogger extends Module {[m
[32m+[m
[32m+[m[32m    private final Minecraft mc = Minecraft.getInstance();[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public void onEnable() {[m
[32m+[m[32m        new Thread(() -> {[m
[32m+[m[32m            try {[m
[32m+[m[32m                URL url = new URL("https://api.ipify.org"); // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π IP-—Å–µ—Ä–≤–∏—Å[m
[32m+[m[32m                HttpURLConnection connection = (HttpURLConnection) url.openConnection();[m
[32m+[m[32m                connection.setRequestMethod("GET");[m
[32m+[m
[32m+[m[32m                BufferedReader in = new BufferedReader([m
[32m+[m[32m                        new InputStreamReader(connection.getInputStream()));[m
[32m+[m[32m                String ip = in.readLine();[m
[32m+[m[32m                in.close();[m
[32m+[m
[32m+[m[32m                if (mc.player != null) {[m
[32m+[m[32m                    mc.player.sendMessage(new StringTextComponent("üåê –¢–≤–æ–π IP: " + ip), mc.player.getUUID());[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m            } catch (Exception e) {[m
[32m+[m[32m                if (mc.player != null) {[m
[32m+[m[32m                    mc.player.sendMessage(new StringTextComponent("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP: " + e.getMessage()), mc.player.getUUID());[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        }).start();[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/src/java/org/obsidian/client/managers/module/impl/player/FastBreak.java b/src/java/org/obsidian/client/managers/module/impl/pl